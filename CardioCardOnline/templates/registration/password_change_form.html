{% extends "cconline/base.html" %}
{% load cconline_extras %}

{% load i18n static %}
{% block jscript %}{% endblock %}

{% block body %}

<div id="content-main">

<form action="" method="post" role="form">{% csrf_token %}
<div>
{% if form.errors %}
    <p class="bg-danger">
    {% if form.errors.items|length == 1 %}{% trans "Please correct the error below." %}{% else %}{% trans "Please correct the errors below." %}{% endif %}
    </p>
{% endif %}

<h2>{% trans 'Password change' %}</h2>

<p>{% trans "Please enter your old password, for security's sake, and then enter your new password twice so we can verify you typed it in correctly." %}</p>
<p>Пароль должен соответствовать принятым политикам безопасности: содержать символы ВЕРХНЕГО и нижнего регистров, цифры (0,1,2,3), специальные символы (@, #, !).</p>

<fieldset class="module aligned wide">

<div class="form-group">
    {{ form.old_password.errors }}
    <label for="id_old_password" class="control-label required">{% trans 'Old password' %}:</label>
    <div class="">{{ form.old_password|addcss:"form-control" }}</div>
</div>

<div class="form-group">
    {{ form.new_password1.errors }}
    <label for="id_new_password1" class="control-label required">{% trans 'New password' %}:</label>
    <div class="">{{ form.new_password1|addcss:"form-control" }}</div>
</div>

<div class="form-group">
{{ form.new_password2.errors }}
    <label for="id_new_password2" class="control-label required">{% trans 'Password (again)' %}:</label>
    <div class="">{{ form.new_password2|addcss:"form-control" }}</div>
</div>

</fieldset>

<div class="row">
    <div class="col-xs-6 text-center">
        <input type="submit" value="{% trans 'Change my password' %}" class="btn btn-default" />
    </div>
    <div class="col-xs-6 text-center">
        <a href="{% url 'user_profile' %}" class="btn btn-default" role="button">Вернуться</a>
    </div>
</div>

<script type="text/javascript">document.getElementById("id_old_password").focus();</script>
</div>
</form></div>

{% endblock %}
